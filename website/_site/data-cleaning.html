<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Billy’s Blog - Data Cleaning</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Billy’s Blog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html" rel="" target="">
 <span class="menu-text">About Me</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-the-hot-hand" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">The Hot Hand</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-the-hot-hand">    
        <li>
    <a class="dropdown-item" href="https://github.com/anly501/dsan-5000-project-wmcgloin" rel="" target="_blank">
 <span class="dropdown-text">Code</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/anly501/dsan-5000-project-wmcgloin/tree/main/website/data" rel="" target="_blank">
 <span class="dropdown-text">Data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./introduction.html" rel="" target="">
 <span class="dropdown-text">Introduction</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./data-gathering.html" rel="" target="">
 <span class="dropdown-text">Data Gathering</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./data-cleaning.html" rel="" target="">
 <span class="dropdown-text">Data Cleaning</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./data-exploration.html" rel="" target="">
 <span class="dropdown-text">Data Exploration</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./naive_bayes.html" rel="" target="">
 <span class="dropdown-text">Naïve Bayes</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./clustering.html" rel="" target="">
 <span class="dropdown-text">Clustering</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./dimensionality-reduction.html" rel="" target="">
 <span class="dropdown-text">Dimensionality Reduction</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./decision-trees.html" rel="" target="">
 <span class="dropdown-text">Decision Trees</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./conclusions.html" rel="" target="">
 <span class="dropdown-text">Conclusions</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#ncaahoopr" id="toc-ncaahoopr" class="nav-link active" data-scroll-target="#ncaahoopr">ncaahoopR</a>
  <ul class="collapse">
  <li><a href="#season" id="toc-season" class="nav-link" data-scroll-target="#season">2021-22 Season</a></li>
  <li><a href="#season-1" id="toc-season-1" class="nav-link" data-scroll-target="#season-1">2019-20 Season</a></li>
  </ul></li>
  <li><a href="#news-api" id="toc-news-api" class="nav-link" data-scroll-target="#news-api">News API</a></li>
  <li><a href="#individual-player-data" id="toc-individual-player-data" class="nav-link" data-scroll-target="#individual-player-data">Individual Player Data</a></li>
  <li><a href="#baseballr" id="toc-baseballr" class="nav-link" data-scroll-target="#baseballr">Baseballr</a></li>
  <li><a href="#extra-joke" id="toc-extra-joke" class="nav-link" data-scroll-target="#extra-joke">Extra Joke</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data Cleaning</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>This page shows the raw data, the code used to clean it, and the modified data. It’s a journal of my data cleaning process. Please be aware that this page contains both Python and R code, thus you should avoid running the source code all at once.</p>
<section id="ncaahoopr" class="level1">
<h1>ncaahoopR</h1>
<section id="season" class="level3">
<h3 class="anchored" data-anchor-id="season">2021-22 Season</h3>
<p>Let’s clean the Villanova 2021-22 data with R:</p>
<p>Here is a screen shot of the first few rows and columns of the raw data: <br><br> <img src="./images/villanova2122raw.png" class="img-fluid" alt="raw data"></p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="7">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>After we load in relevant libraries, we can read in the data and check its shape.</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="2">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>nova2122 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">'./data/raw_data/villanova2122.csv'</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(nova2122)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class="list-inline"><li>11405</li><li>39</li></ol>
</div>
</div>
<p>What columns does the NCAA data have?</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="3">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># what are the column names?</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(nova2122)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class="list-inline"><li>'game_id'</li><li>'date'</li><li>'home'</li><li>'away'</li><li>'play_id'</li><li>'half'</li><li>'time_remaining_half'</li><li>'secs_remaining'</li><li>'secs_remaining_absolute'</li><li>'description'</li><li>'action_team'</li><li>'home_score'</li><li>'away_score'</li><li>'score_diff'</li><li>'play_length'</li><li>'scoring_play'</li><li>'foul'</li><li>'win_prob'</li><li>'naive_win_prob'</li><li>'home_time_out_remaining'</li><li>'away_time_out_remaining'</li><li>'home_favored_by'</li><li>'total_line'</li><li>'referees'</li><li>'arena_location'</li><li>'arena'</li><li>'capacity'</li><li>'attendance'</li><li>'shot_x'</li><li>'shot_y'</li><li>'shot_team'</li><li>'shot_outcome'</li><li>'shooter'</li><li>'assist'</li><li>'three_pt'</li><li>'free_throw'</li><li>'possession_before'</li><li>'possession_after'</li><li>'wrong_time'</li></ol>
</div>
</div>
<p>The dataset appears fairly clean; however, to focus specifically on shooting data, we’ll exclude rows without a designated shooter (e.g., turnovers, steals, rebounds, or blocks) where the shooter is marked as NA. After this refinement, we’ll reassess the shape of the data.</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="4">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>nova2122 <span class="ot">&lt;-</span> nova2122 <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(shooter))</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># let's check the shape of the data</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(nova2122)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class="list-inline"><li>5399</li><li>39</li></ol>
</div>
</div>
<p>We can see that about 5,000 rows were removed and we are left with a little over half of the initial data. In the below chunk, we create a new column, “shooter_team,” based on the action team. We create another column “shot_sequence” that tracks consecutive made or missed shots by a shooter in each game half, and then use that column to create a “previous_shots” column that indicates the number of consecutive shots (made or missed) by the shooter before the current shot. This modified dataset is then saved as a CSV file.</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="6">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># only taking the columns I want from this dataset</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>sample <span class="ot">&lt;-</span> nova2122 <span class="sc">%&gt;%</span> <span class="fu">select</span>(game_id, play_id, half, shooter, shot_outcome, home, away, action_team)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co">#creating a new column shooter_team</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>sample <span class="ot">&lt;-</span> sample <span class="sc">%&gt;%</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">shooter_team =</span> <span class="fu">ifelse</span>(action_team <span class="sc">==</span> <span class="st">"home"</span>, home, away))</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Specifying columns to drop and removing them from the dataframe</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>columns_to_drop <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"home"</span>, <span class="st">"away"</span>, <span class="st">"action_team"</span>)</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>sample <span class="ot">&lt;-</span> sample <span class="sc">%&gt;%</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">one_of</span>(columns_to_drop))</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="co">#I want to create a previous_shots column that says how many shots the shooter has made or missed in a row before the current shot they are taking</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>sample <span class="ot">&lt;-</span> sample <span class="sc">%&gt;%</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">shot_outcome_numeric =</span> <span class="fu">ifelse</span>(shot_outcome <span class="sc">==</span> <span class="st">"made"</span>, <span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>sample <span class="ot">&lt;-</span> sample <span class="sc">%&gt;%</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(game_id, half, shooter) <span class="sc">%&gt;%</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(play_id) <span class="sc">%&gt;%</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">shot_sequence =</span> <span class="fu">cumsum</span>(shot_outcome_numeric)) <span class="sc">%&gt;%</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>sample3 <span class="ot">&lt;-</span> sample <span class="sc">%&gt;%</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">shot_sequence =</span> <span class="fu">ifelse</span>(shot_outcome <span class="sc">==</span> <span class="st">"made"</span> <span class="sc">&amp;</span> shot_sequence <span class="sc">&lt;=</span> <span class="dv">0</span>, <span class="dv">1</span>,</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">ifelse</span>(shot_outcome <span class="sc">==</span> <span class="st">"missed"</span> <span class="sc">&amp;</span> shot_sequence <span class="sc">&gt;=</span> <span class="dv">0</span>, <span class="sc">-</span><span class="dv">1</span>, shot_sequence))</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>sample3 <span class="ot">&lt;-</span> sample3 <span class="sc">%&gt;%</span></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(game_id, half, shooter) <span class="sc">%&gt;%</span></span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(play_id) <span class="sc">%&gt;%</span></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">previous_shots =</span> <span class="fu">ifelse</span>(<span class="fu">row_number</span>() <span class="sc">==</span> <span class="dv">1</span>, <span class="dv">0</span>, <span class="fu">lag</span>(shot_sequence, <span class="at">default =</span> <span class="dv">0</span>))</span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(sample3, <span class="at">file =</span> <span class="st">"./data/modified_data/nova2122.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Here is a screen shot of the modified data: <br><br> <img src="./images/nova2122clean.png" class="img-fluid" alt="modified data"></p>
</section>
<section id="season-1" class="level3">
<h3 class="anchored" data-anchor-id="season-1">2019-20 Season</h3>
<p>We can replicate the process for the 2019-20 NCAA data. The following code mirrors the one used above but is tailored to the 2019-20 season.</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="12">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># let's load in the data</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>nova1920 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">'./data/raw_data/villanova1920.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="16">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># let's check the shape of the data</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(nova1920)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class="list-inline"><li>9581</li><li>39</li></ol>
</div>
</div>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="17">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># what are the column names?</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(nova1920)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class="list-inline"><li>'game_id'</li><li>'date'</li><li>'home'</li><li>'away'</li><li>'play_id'</li><li>'half'</li><li>'time_remaining_half'</li><li>'secs_remaining'</li><li>'secs_remaining_absolute'</li><li>'description'</li><li>'action_team'</li><li>'home_score'</li><li>'away_score'</li><li>'score_diff'</li><li>'play_length'</li><li>'scoring_play'</li><li>'foul'</li><li>'win_prob'</li><li>'naive_win_prob'</li><li>'home_time_out_remaining'</li><li>'away_time_out_remaining'</li><li>'home_favored_by'</li><li>'total_line'</li><li>'referees'</li><li>'arena_location'</li><li>'arena'</li><li>'capacity'</li><li>'attendance'</li><li>'shot_x'</li><li>'shot_y'</li><li>'shot_team'</li><li>'shot_outcome'</li><li>'shooter'</li><li>'assist'</li><li>'three_pt'</li><li>'free_throw'</li><li>'possession_before'</li><li>'possession_after'</li><li>'wrong_time'</li></ol>
</div>
</div>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="18">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># this data looks relatively clean, but we want only shooting data</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># let's get rid of rows where there isn't a shooter</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co"># this would be rows where the shooter is NA</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># such as a turnover, steal, rebound, or block</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>nova1920 <span class="ot">&lt;-</span> nova1920 <span class="sc">%&gt;%</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(shooter))</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co"># let's check the shape of the data</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(nova1920)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class="list-inline"><li>4543</li><li>39</li></ol>
</div>
</div>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="19">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># we can see that we removed about 5,000 rows and are left with just a little over half the initial data</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># only taking the columns I want from this dataset</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>sample <span class="ot">&lt;-</span> nova1920 <span class="sc">%&gt;%</span> <span class="fu">select</span>(game_id, play_id, half, shooter, shot_outcome, home, away, action_team)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="co">#creating a new column shooter_team</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>sample <span class="ot">&lt;-</span> sample <span class="sc">%&gt;%</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">shooter_team =</span> <span class="fu">ifelse</span>(action_team <span class="sc">==</span> <span class="st">"home"</span>, home, away))</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Specifying columns to drop and removing them from the dataframe</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>columns_to_drop <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"home"</span>, <span class="st">"away"</span>, <span class="st">"action_team"</span>)</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>sample <span class="ot">&lt;-</span> sample <span class="sc">%&gt;%</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">one_of</span>(columns_to_drop))</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="co">#I want to create a previous_shots column that says how many shots the shooter has made or missed in a row before the current shot they are taking</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>sample <span class="ot">&lt;-</span> sample <span class="sc">%&gt;%</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">shot_outcome_numeric =</span> <span class="fu">ifelse</span>(shot_outcome <span class="sc">==</span> <span class="st">"made"</span>, <span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>sample <span class="ot">&lt;-</span> sample <span class="sc">%&gt;%</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(game_id, half, shooter) <span class="sc">%&gt;%</span></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(play_id) <span class="sc">%&gt;%</span></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">shot_sequence =</span> <span class="fu">cumsum</span>(shot_outcome_numeric)) <span class="sc">%&gt;%</span></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>sample3 <span class="ot">&lt;-</span> sample <span class="sc">%&gt;%</span></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">shot_sequence =</span> <span class="fu">ifelse</span>(shot_outcome <span class="sc">==</span> <span class="st">"made"</span> <span class="sc">&amp;</span> shot_sequence <span class="sc">&lt;=</span> <span class="dv">0</span>, <span class="dv">1</span>,</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">ifelse</span>(shot_outcome <span class="sc">==</span> <span class="st">"missed"</span> <span class="sc">&amp;</span> shot_sequence <span class="sc">&gt;=</span> <span class="dv">0</span>, <span class="sc">-</span><span class="dv">1</span>, shot_sequence))</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>sample3 <span class="ot">&lt;-</span> sample3 <span class="sc">%&gt;%</span></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(game_id, half, shooter) <span class="sc">%&gt;%</span></span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(play_id) <span class="sc">%&gt;%</span></span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">previous_shots =</span> <span class="fu">ifelse</span>(<span class="fu">row_number</span>() <span class="sc">==</span> <span class="dv">1</span>, <span class="dv">0</span>, <span class="fu">lag</span>(shot_sequence, <span class="at">default =</span> <span class="dv">0</span>))</span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(sample3, <span class="at">file =</span> <span class="st">"./data/modified_data/nova1920.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="news-api" class="level1">
<h1>News API</h1>
<p>Let’s clean this textual data using python: <br><br> Here is a picture of the first few rows of the raw data: <br><br> <img src="./images/newsapi.png" class="img-fluid" alt="raw data"></p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="1">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>import pandas as pd</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>import numpy as np</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>from sklearn.feature_extraction.text import CountVectorizer</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>This code reads sentiment scores from a JSON file, extracts titles and descriptions, assigns sentiment labels based on compound scores, forms a DataFrame, and saves the output, including titles, to a CSV file.</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the sentiment scores from the JSON file</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>with <span class="fu">open</span>(<span class="st">'sentiment_scores.json'</span>, <span class="st">'r'</span>) as json_file<span class="sc">:</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    sentiment_scores <span class="ot">=</span> <span class="fu">json.load</span>(json_file)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create lists to store data</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>titles <span class="ot">=</span> []  <span class="co"># List to store document titles</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>descriptions <span class="ot">=</span> []   <span class="co"># List to store document descriptions</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>sentiment_labels <span class="ot">=</span> []  <span class="co"># List to store sentiment labels</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the scores, titles, descriptions, and labels</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> idx, item <span class="cf">in</span> <span class="fu">enumerate</span>(sentiment_scores, <span class="at">start=</span><span class="dv">1</span>)<span class="sc">:</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">titles.append</span>(<span class="fu">item.get</span>(<span class="st">'title'</span>, <span class="st">''</span>))  <span class="co"># Get the title of the document</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">descriptions.append</span>(<span class="fu">item.get</span>(<span class="st">'description'</span>, <span class="st">''</span>))    <span class="co"># Get the description of the document</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>    sentiment_score <span class="ot">=</span> <span class="fu">item.get</span>(<span class="st">'sentiment_score'</span>, {})</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Determine the sentiment label based on the compound score</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="fu">sentiment_score.get</span>(<span class="st">'compound'</span>, <span class="dv">0</span>) <span class="sc">&gt;</span> <span class="dv">0</span><span class="sc">:</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">sentiment_labels.append</span>(<span class="st">'positive'</span>)</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>    elif <span class="fu">sentiment_score.get</span>(<span class="st">'compound'</span>, <span class="dv">0</span>) <span class="sc">==</span> <span class="dv">0</span><span class="sc">:</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">sentiment_labels.append</span>(<span class="st">'neutral'</span>)</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span><span class="sc">:</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">sentiment_labels.append</span>(<span class="st">'negative'</span>)</span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a DataFrame</span></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>data <span class="ot">=</span> {</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Title'</span><span class="sc">:</span> titles,</span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Description'</span><span class="sc">:</span> descriptions,</span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Sentiment Label'</span><span class="sc">:</span> sentiment_labels</span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>df_with_labels <span class="ot">=</span> <span class="fu">pd.DataFrame</span>(data)</span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Save to CSV</span></span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a><span class="fu">df_with_labels.to_csv</span>(<span class="st">'./data/modified_data/sentiment_scores_with_titles.csv'</span>, <span class="at">index=</span>False)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="individual-player-data" class="level1">
<h1>Individual Player Data</h1>
<p>Let’s clean the Aaron Judge game data with python:</p>
<p>Here is a screen shot of the first few rows of the raw data: <br><br> <img src="./images/judge2.png" class="img-fluid" alt="raw data"></p>
<p>After loading in relevant libraries and reading in the data, let’s check the shape of the dataset.</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="81">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>import pandas as pd</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>import numpy as np</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co">#reading in the file</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>aaronjudge <span class="ot">=</span> <span class="fu">pd.read_csv</span>(<span class="st">'./data/raw_data/AaronJudgeData.csv'</span>)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co">#how many rows are in this dataset?</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>aaronjudge.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="81">
<pre><code>(111, 37)</code></pre>
</div>
</div>
<p>What are the column names?</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="82">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">#what are the column names?</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>aaronjudge.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="82">
<pre><code>Index(['Date', 'Team', 'Opp', 'BO', 'Pos', 'PA', 'H', '2B', '3B', 'HR', 'R',
       'RBI', 'SB', 'CS', 'BB%', 'K%', 'ISO', 'BABIP', 'EV', 'AVG', 'OBP',
       'SLG', 'wOBA', 'wRC+', 'Date.1', 'Team.1', 'Opp.1', 'BO.1', 'Pos.1',
       'Events', 'EV.1', 'maxEV', 'LA', 'Barrels', 'Barrel%', 'HardHit',
       'HardHit%'],
      dtype='object')</code></pre>
</div>
</div>
<p>Let’s remove repeated columns and check the column names again.</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="83">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">#removing the repeated columns</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>columns_to_remove <span class="ot">=</span> [<span class="st">'Date.1'</span>, <span class="st">'Team.1'</span>, <span class="st">'Opp.1'</span>, <span class="st">'BO.1'</span>, <span class="st">'Pos.1'</span>]</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">aaronjudge.drop</span>(<span class="at">columns=</span>columns_to_remove, <span class="at">inplace=</span>True)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>aaronjudge.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="83">
<pre><code>Index(['Date', 'Team', 'Opp', 'BO', 'Pos', 'PA', 'H', '2B', '3B', 'HR', 'R',
       'RBI', 'SB', 'CS', 'BB%', 'K%', 'ISO', 'BABIP', 'EV', 'AVG', 'OBP',
       'SLG', 'wOBA', 'wRC+', 'Events', 'EV.1', 'maxEV', 'LA', 'Barrels',
       'Barrel%', 'HardHit', 'HardHit%'],
      dtype='object')</code></pre>
</div>
</div>
<p>I believe that the intiial row with the column names is repeated throughout the data, let’s check if that is indeed the case.</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="84">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># i belive the initial row with the column names is repeated throughou the data. let's check</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>((aaronjudge[<span class="st">'Date'</span>] <span class="sc">==</span> <span class="st">'Date'</span>)<span class="fu">.sum</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>5</code></pre>
</div>
</div>
<p>Let’s remove these rows and check the shape again.</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="85">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># let's remove these rows and then check the shape again</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">aaronjudge.drop</span>(aaronjudge[aaronjudge[<span class="st">'Date'</span>] <span class="sc">==</span> <span class="st">'Date'</span>].index, <span class="at">inplace=</span>True)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>aaronjudge.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="85">
<pre><code>(106, 32)</code></pre>
</div>
</div>
<p>There is a total row at the bottom of the data, let’s remove that as well.</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="86">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># there is also a total row which I want to remove as well. let's do that now</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">aaronjudge.drop</span>(aaronjudge[aaronjudge[<span class="st">'Date'</span>] <span class="sc">==</span> <span class="st">'Total'</span>].index, <span class="at">inplace=</span>True)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>aaronjudge.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="86">
<pre><code>(105, 32)</code></pre>
</div>
</div>
<p>So far, I have removed 6 rows and 5 columns. I want to create a location column (home or away) based on the “@” in the “Opp” column. Let’s do that now and check the values of the new column.</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="87">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># so far, I have removed 6 rows and 5 columns. </span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="co"># I want to create a "location" column based on the "@" in the "Opp" column</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>aaronjudge[<span class="st">'location'</span>] <span class="ot">=</span> aaronjudge[<span class="st">'Opp'</span>]<span class="fu">.apply</span>(lambda x<span class="sc">:</span> <span class="st">'away'</span> <span class="cf">if</span> <span class="st">'@'</span> <span class="cf">in</span> x <span class="cf">else</span> <span class="st">'home'</span>)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the "@" symbol from the values in the "Opp" column</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>aaronjudge[<span class="st">'Opp'</span>] <span class="ot">=</span> aaronjudge[<span class="st">'Opp'</span>]<span class="fu">.str.replace</span>(<span class="st">'@'</span>, <span class="st">''</span>)</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="co"># check value counts of the new "location" column</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(aaronjudge[<span class="st">'location'</span>]<span class="fu">.value_counts</span>()) <span class="co">#this seems accurate</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>home    53
away    52
Name: location, dtype: int64</code></pre>
</div>
</div>
<p>I want to create two new columns: the number of at-bats per each game and the number of hard hits for each game. For this project, we are going to calculate at-bats as the number of plate appearances minus the number of walks (sacrifices and HBP are not included in this dataset). Let’s check the data types of the columns we’ll be using to create these new columns.</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="88">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(aaronjudge[<span class="st">'PA'</span>].dtype)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(aaronjudge[<span class="st">'BB%'</span>].dtype)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>object
object</code></pre>
</div>
</div>
<p>We need to remove the ‘%’ symbol and convert ‘BB%’ to a float, rounding it to three decimal places. PA must also be converted to a float which allows us to create the new at_bats column. Let’s do a sanity check and look at the mean at_bats and PA (at_bats should be slightly less).</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="89">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co">#first i have to remove the '%' symbol and convert 'BB%' to a float</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>aaronjudge[<span class="st">'BB%'</span>] <span class="ot">=</span> aaronjudge[<span class="st">'BB%'</span>]<span class="fu">.astype</span>(str)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>aaronjudge[<span class="st">'BB%'</span>] <span class="ot">=</span> aaronjudge[<span class="st">'BB%'</span>]<span class="fu">.str.rstrip</span>(<span class="st">'%'</span>)<span class="fu">.astype</span>(float) <span class="sc">/</span> <span class="fl">100.0</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Round the 'BB%' column to three decimal places</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>aaronjudge[<span class="st">'BB%'</span>] <span class="ot">=</span> aaronjudge[<span class="st">'BB%'</span>]<span class="fu">.round</span>(<span class="dv">3</span>)</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="co">#print(aaronjudge['BB%'].mean())</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a><span class="co">#convert 'PA' to a float</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>aaronjudge[<span class="st">'PA'</span>] <span class="ot">=</span> aaronjudge[<span class="st">'PA'</span>]<span class="fu">.astype</span>(float)</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a><span class="co"># now I can create the new at_bats column</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>aaronjudge[<span class="st">'at_bats'</span>] <span class="ot">=</span> aaronjudge[<span class="st">'PA'</span>] <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">-</span> aaronjudge[<span class="st">'BB%'</span>])</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a><span class="co">#now lets see the average number of at bats vs the average number of plate appearances</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(aaronjudge[<span class="st">'at_bats'</span>]<span class="fu">.mean</span>())</span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(aaronjudge[<span class="st">'PA'</span>]<span class="fu">.mean</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>3.4857333333333336
4.314285714285714</code></pre>
</div>
</div>
<p>Let’s repeat the above process (with a few minor changes) to create the hard_hits column. First, we check the data type of the columns we will be using to calculate hard_hits.</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="90">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># now I want to create a new column for hard hits per game</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="co"># we can do this by multiplying the hard hit percentage by the events column (these columns were part of a different table that was merged with the original table)</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(aaronjudge[<span class="st">'HardHit%'</span>].dtype)</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(aaronjudge[<span class="st">'Events'</span>].dtype)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>object
object</code></pre>
</div>
</div>
<p>After we remove the ‘%’ symbol and convert ‘HardHit%’ into a float (rounding to three decimal places), we must also convert ‘Events’ to a float. Events specifies the number of balls put in play. By multiplying the two columns together, we can calculate the number of hard_hits per game.</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="91">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># this code is very similar to what we just did</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="co">#first i have to remove the '%' symbol and convert 'HardHit%' to a float</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>aaronjudge[<span class="st">'HardHit%'</span>] <span class="ot">=</span> aaronjudge[<span class="st">'HardHit%'</span>]<span class="fu">.astype</span>(str)</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>aaronjudge[<span class="st">'HardHit%'</span>] <span class="ot">=</span> aaronjudge[<span class="st">'HardHit%'</span>]<span class="fu">.str.rstrip</span>(<span class="st">'%'</span>)<span class="fu">.astype</span>(float) <span class="sc">/</span> <span class="fl">100.0</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Round the 'HardHit%' column to three decimal places</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>aaronjudge[<span class="st">'HardHit%'</span>] <span class="ot">=</span> aaronjudge[<span class="st">'HardHit%'</span>]<span class="fu">.round</span>(<span class="dv">3</span>)</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a><span class="co">#print(aaronjudge['HardHit%'].mean())</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a><span class="co">#convert 'Events' to a float</span></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>aaronjudge[<span class="st">'Events'</span>] <span class="ot">=</span> aaronjudge[<span class="st">'Events'</span>]<span class="fu">.astype</span>(float)</span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a><span class="co"># now I can create the new hard_hits column</span></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>aaronjudge[<span class="st">'hard_hits'</span>] <span class="ot">=</span> (aaronjudge[<span class="st">'Events'</span>] <span class="sc">*</span> aaronjudge[<span class="st">'HardHit%'</span>])<span class="fu">.round</span>(<span class="dv">0</span>)</span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a><span class="co">#now lets see the average number of hard_hits per game</span></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(aaronjudge[<span class="st">'hard_hits'</span>]<span class="fu">.mean</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>1.52</code></pre>
</div>
</div>
<p>With the number of hard_hits and at_bats per game, we can calculate the correct hard hit percentage per game. Let’s do that now.</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="92">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># finally, let's create a correct hardhit% column that is based on the number of at-bats, not the number of times a player puts the ball in play</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>aaronjudge[<span class="st">'correct_hardhit%'</span>] <span class="ot">=</span> (aaronjudge[<span class="st">'hard_hits'</span>] <span class="sc">/</span> aaronjudge[<span class="st">'at_bats'</span>])<span class="fu">.round</span>(<span class="dv">2</span>)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="co"># now let's see the average correct hardhit% for Aaron Judge</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(aaronjudge[<span class="st">'correct_hardhit%'</span>]<span class="fu">.mean</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>0.42829999999999996</code></pre>
</div>
</div>
<p>Sometimes in certain stadiums or based on the weather, the HardHit% data is missing. This causes the value of the newly created correct_hardhit% column to be NaN, so let’s remove those few rows and check the shape again. Finally, we will save this modified data to a csv file.</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="95">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">aaronjudge.dropna</span>(<span class="at">subset=</span>[<span class="st">'correct_hardhit%'</span>], <span class="at">inplace=</span>True)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="co">#let's check the shape again</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>aaronjudge.shape <span class="co">#loss of 5 rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="95">
<pre><code>(100, 36)</code></pre>
</div>
</div>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="96">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># now we can save this to a csv file</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">aaronjudge.to_csv</span>(<span class="st">'./data/modified_data/aaronjudge.csv'</span>, <span class="at">index=</span>False)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Here is a screenshot of the first couple rows of the modified csv file: <br><br> <img src="./images/aaron_judge_clean.png" class="img-fluid" alt="Clean Data"></p>
</section>
<section id="baseballr" class="level1">
<h1>Baseballr</h1>
<p>After loading in relevant libraries and reading in the data, let’s take a brief look at what the data looks like:</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="2">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>baseball <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"./data/raw_data/baseballr_six_games.csv"</span>)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(baseball)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true">
<caption>A data.frame: 6 x 160</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th" scope="col">game_pk</th>
<th data-quarto-table-cell-role="th" scope="col">game_date</th>
<th data-quarto-table-cell-role="th" scope="col">index</th>
<th data-quarto-table-cell-role="th" scope="col">startTime</th>
<th data-quarto-table-cell-role="th" scope="col">endTime</th>
<th data-quarto-table-cell-role="th" scope="col">isPitch</th>
<th data-quarto-table-cell-role="th" scope="col">type</th>
<th data-quarto-table-cell-role="th" scope="col">playId</th>
<th data-quarto-table-cell-role="th" scope="col">pitchNumber</th>
<th data-quarto-table-cell-role="th" scope="col">details.description</th>
<th data-quarto-table-cell-role="th" scope="col">...</th>
<th data-quarto-table-cell-role="th" scope="col">matchup.postOnThird.link</th>
<th data-quarto-table-cell-role="th" scope="col">reviewDetails.isOverturned</th>
<th data-quarto-table-cell-role="th" scope="col">reviewDetails.inProgress</th>
<th data-quarto-table-cell-role="th" scope="col">reviewDetails.reviewType</th>
<th data-quarto-table-cell-role="th" scope="col">reviewDetails.challengeTeamId</th>
<th data-quarto-table-cell-role="th" scope="col">base</th>
<th data-quarto-table-cell-role="th" scope="col">details.violation.type</th>
<th data-quarto-table-cell-role="th" scope="col">details.violation.description</th>
<th data-quarto-table-cell-role="th" scope="col">details.violation.player.id</th>
<th data-quarto-table-cell-role="th" scope="col">details.violation.player.fullName</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th" scope="col">&lt;int&gt;</th>
<th data-quarto-table-cell-role="th" scope="col">&lt;chr&gt;</th>
<th data-quarto-table-cell-role="th" scope="col">&lt;int&gt;</th>
<th data-quarto-table-cell-role="th" scope="col">&lt;chr&gt;</th>
<th data-quarto-table-cell-role="th" scope="col">&lt;chr&gt;</th>
<th data-quarto-table-cell-role="th" scope="col">&lt;lgl&gt;</th>
<th data-quarto-table-cell-role="th" scope="col">&lt;chr&gt;</th>
<th data-quarto-table-cell-role="th" scope="col">&lt;chr&gt;</th>
<th data-quarto-table-cell-role="th" scope="col">&lt;int&gt;</th>
<th data-quarto-table-cell-role="th" scope="col">&lt;chr&gt;</th>
<th data-quarto-table-cell-role="th" scope="col">...</th>
<th data-quarto-table-cell-role="th" scope="col">&lt;chr&gt;</th>
<th data-quarto-table-cell-role="th" scope="col">&lt;lgl&gt;</th>
<th data-quarto-table-cell-role="th" scope="col">&lt;lgl&gt;</th>
<th data-quarto-table-cell-role="th" scope="col">&lt;chr&gt;</th>
<th data-quarto-table-cell-role="th" scope="col">&lt;int&gt;</th>
<th data-quarto-table-cell-role="th" scope="col">&lt;int&gt;</th>
<th data-quarto-table-cell-role="th" scope="col">&lt;chr&gt;</th>
<th data-quarto-table-cell-role="th" scope="col">&lt;chr&gt;</th>
<th data-quarto-table-cell-role="th" scope="col">&lt;int&gt;</th>
<th data-quarto-table-cell-role="th" scope="col">&lt;chr&gt;</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">1</td>
<td>717641</td>
<td>2023-06-24</td>
<td>2</td>
<td>2023-06-24T04:40:41.468Z</td>
<td>2023-06-24T04:40:49.543Z</td>
<td>TRUE</td>
<td>pitch</td>
<td>a8483d6b-3cff-4190-827c-1b4c71f60ef8</td>
<td>3</td>
<td>In play, out(s)</td>
<td>...</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">2</td>
<td>717641</td>
<td>2023-06-24</td>
<td>1</td>
<td>2023-06-24T04:40:24.685Z</td>
<td>2023-06-24T04:40:28.580Z</td>
<td>TRUE</td>
<td>pitch</td>
<td>49eba946-3aaa-4260-895b-3de29cb49043</td>
<td>2</td>
<td>Foul</td>
<td>...</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">3</td>
<td>717641</td>
<td>2023-06-24</td>
<td>0</td>
<td>2023-06-24T04:40:08.036Z</td>
<td>2023-06-24T04:40:12.278Z</td>
<td>TRUE</td>
<td>pitch</td>
<td>f879f5a0-8570-4594-ae73-3f09d1a53ee1</td>
<td>1</td>
<td>Ball</td>
<td>...</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">4</td>
<td>717641</td>
<td>2023-06-24</td>
<td>6</td>
<td>2023-06-24T04:39:08.422Z</td>
<td>2023-06-24T04:39:16.691Z</td>
<td>TRUE</td>
<td>pitch</td>
<td>3077f596-0221-4469-9841-f1684c629288</td>
<td>6</td>
<td>In play, out(s)</td>
<td>...</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">5</td>
<td>717641</td>
<td>2023-06-24</td>
<td>5</td>
<td>2023-06-24T04:38:49.567Z</td>
<td>2023-06-24T04:38:53.482Z</td>
<td>TRUE</td>
<td>pitch</td>
<td>21a33e9d-e596-408b-9168-141acc0b1b63</td>
<td>5</td>
<td>Foul</td>
<td>...</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">6</td>
<td>717641</td>
<td>2023-06-24</td>
<td>4</td>
<td>2023-06-24T04:38:32.110Z</td>
<td>2023-06-24T04:38:36.156Z</td>
<td>TRUE</td>
<td>pitch</td>
<td>db083639-52be-41f4-b6d9-f72601ef1508</td>
<td>4</td>
<td>Foul</td>
<td>...</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>What columns does this data have?</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="5">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># what are the column names?</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(baseball)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class="list-inline"><li>'game_pk'</li><li>'game_date'</li><li>'index'</li><li>'startTime'</li><li>'endTime'</li><li>'isPitch'</li><li>'type'</li><li>'playId'</li><li>'pitchNumber'</li><li>'details.description'</li><li>'details.event'</li><li>'details.awayScore'</li><li>'details.homeScore'</li><li>'details.isScoringPlay'</li><li>'details.hasReview'</li><li>'details.code'</li><li>'details.ballColor'</li><li>'details.isInPlay'</li><li>'details.isStrike'</li><li>'details.isBall'</li><li>'details.call.code'</li><li>'details.call.description'</li><li>'count.balls.start'</li><li>'count.strikes.start'</li><li>'count.outs.start'</li><li>'player.id'</li><li>'player.link'</li><li>'pitchData.strikeZoneTop'</li><li>'pitchData.strikeZoneBottom'</li><li>'details.fromCatcher'</li><li>'pitchData.coordinates.x'</li><li>'pitchData.coordinates.y'</li><li>'hitData.trajectory'</li><li>'hitData.hardness'</li><li>'hitData.location'</li><li>'hitData.coordinates.coordX'</li><li>'hitData.coordinates.coordY'</li><li>'actionPlayId'</li><li>'details.eventType'</li><li>'details.runnerGoing'</li><li>'position.code'</li><li>'position.name'</li><li>'position.type'</li><li>'position.abbreviation'</li><li>'battingOrder'</li><li>'atBatIndex'</li><li>'result.type'</li><li>'result.event'</li><li>'result.eventType'</li><li>'result.description'</li><li>'result.rbi'</li><li>'result.awayScore'</li><li>'result.homeScore'</li><li>'about.atBatIndex'</li><li>'about.halfInning'</li><li>'about.inning'</li><li>'about.startTime'</li><li>'about.endTime'</li><li>'about.isComplete'</li><li>'about.isScoringPlay'</li><li>'about.hasReview'</li><li>'about.hasOut'</li><li>'about.captivatingIndex'</li><li>'count.balls.end'</li><li>'count.strikes.end'</li><li>'count.outs.end'</li><li>'matchup.batter.id'</li><li>'matchup.batter.fullName'</li><li>'matchup.batter.link'</li><li>'matchup.batSide.code'</li><li>'matchup.batSide.description'</li><li>'matchup.pitcher.id'</li><li>'matchup.pitcher.fullName'</li><li>'matchup.pitcher.link'</li><li>'matchup.pitchHand.code'</li><li>'matchup.pitchHand.description'</li><li>'matchup.splits.batter'</li><li>'matchup.splits.pitcher'</li><li>'matchup.splits.menOnBase'</li><li>'batted.ball.result'</li><li>'home_team'</li><li>'home_level_id'</li><li>'home_level_name'</li><li>'home_parentOrg_id'</li><li>'home_parentOrg_name'</li><li>'home_league_id'</li><li>'home_league_name'</li><li>'away_team'</li><li>'away_level_id'</li><li>'away_level_name'</li><li>'away_parentOrg_id'</li><li>'away_parentOrg_name'</li><li>'away_league_id'</li><li>'away_league_name'</li><li>'batting_team'</li><li>'fielding_team'</li><li>'last.pitch.of.ab'</li><li>'pfxId'</li><li>'details.trailColor'</li><li>'details.type.code'</li><li>'details.type.description'</li><li>'pitchData.startSpeed'</li><li>'pitchData.endSpeed'</li><li>'pitchData.zone'</li><li>'pitchData.typeConfidence'</li><li>'pitchData.plateTime'</li><li>'pitchData.extension'</li><li>'pitchData.coordinates.aY'</li><li>'pitchData.coordinates.aZ'</li><li>'pitchData.coordinates.pfxX'</li><li>'pitchData.coordinates.pfxZ'</li><li>'pitchData.coordinates.pX'</li><li>'pitchData.coordinates.pZ'</li><li>'pitchData.coordinates.vX0'</li><li>'pitchData.coordinates.vY0'</li><li>'pitchData.coordinates.vZ0'</li><li>'pitchData.coordinates.x0'</li><li>'pitchData.coordinates.y0'</li><li>'pitchData.coordinates.z0'</li><li>'pitchData.coordinates.aX'</li><li>'pitchData.breaks.breakAngle'</li><li>'pitchData.breaks.breakLength'</li><li>'pitchData.breaks.breakY'</li><li>'pitchData.breaks.spinRate'</li><li>'pitchData.breaks.spinDirection'</li><li>'hitData.launchSpeed'</li><li>'hitData.launchAngle'</li><li>'hitData.totalDistance'</li><li>'injuryType'</li><li>'umpire.id'</li><li>'umpire.link'</li><li>'details.isOut'</li><li>'pitchData.breaks.breakVertical'</li><li>'pitchData.breaks.breakVerticalInduced'</li><li>'pitchData.breaks.breakHorizontal'</li><li>'isBaseRunningPlay'</li><li>'details.disengagementNum'</li><li>'isSubstitution'</li><li>'replacedPlayer.id'</li><li>'replacedPlayer.link'</li><li>'result.isOut'</li><li>'about.isTopInning'</li><li>'matchup.postOnFirst.id'</li><li>'matchup.postOnFirst.fullName'</li><li>'matchup.postOnFirst.link'</li><li>'matchup.postOnSecond.id'</li><li>'matchup.postOnSecond.fullName'</li><li>'matchup.postOnSecond.link'</li><li>'matchup.postOnThird.id'</li><li>'matchup.postOnThird.fullName'</li><li>'matchup.postOnThird.link'</li><li>'reviewDetails.isOverturned'</li><li>'reviewDetails.inProgress'</li><li>'reviewDetails.reviewType'</li><li>'reviewDetails.challengeTeamId'</li><li>'base'</li><li>'details.violation.type'</li><li>'details.violation.description'</li><li>'details.violation.player.id'</li><li>'details.violation.player.fullName'</li></ol>
</div>
</div>
<p>Are there any missing data?</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;r&quot;}" data-execution_count="10">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># missing data?</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data.frame</span>(<span class="fu">colSums</span>(<span class="fu">is.na</span>(baseball)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true">
<caption>A data.frame: 160 x 1</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th" scope="col">colSums.is.na.baseball..</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th" scope="col">&lt;dbl&gt;</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">game_pk</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">game_date</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">index</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">startTime</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">endTime</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">isPitch</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">type</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">playId</td>
<td>215</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">pitchNumber</td>
<td>242</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">details.description</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">details.event</td>
<td>1755</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">details.awayScore</td>
<td>1755</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">details.homeScore</td>
<td>1755</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">details.isScoringPlay</td>
<td>1755</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">details.hasReview</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">details.code</td>
<td>215</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">details.ballColor</td>
<td>243</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">details.isInPlay</td>
<td>242</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">details.isStrike</td>
<td>242</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">details.isBall</td>
<td>242</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">details.call.code</td>
<td>242</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">details.call.description</td>
<td>242</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">count.balls.start</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">count.strikes.start</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">count.outs.start</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">player.id</td>
<td>1790</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">player.link</td>
<td>1790</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">pitchData.strikeZoneTop</td>
<td>243</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">pitchData.strikeZoneBottom</td>
<td>243</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">details.fromCatcher</td>
<td>1943</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">...</td>
<td>...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">umpire.link</td>
<td>1970</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">details.isOut</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">pitchData.breaks.breakVertical</td>
<td>243</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">pitchData.breaks.breakVerticalInduced</td>
<td>243</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">pitchData.breaks.breakHorizontal</td>
<td>243</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">isBaseRunningPlay</td>
<td>1951</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">details.disengagementNum</td>
<td>1904</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">isSubstitution</td>
<td>1908</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">replacedPlayer.id</td>
<td>1948</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">replacedPlayer.link</td>
<td>1948</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">result.isOut</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">about.isTopInning</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">matchup.postOnFirst.id</td>
<td>1837</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">matchup.postOnFirst.fullName</td>
<td>1837</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">matchup.postOnFirst.link</td>
<td>1837</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">matchup.postOnSecond.id</td>
<td>1903</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">matchup.postOnSecond.fullName</td>
<td>1903</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">matchup.postOnSecond.link</td>
<td>1903</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">matchup.postOnThird.id</td>
<td>1930</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">matchup.postOnThird.fullName</td>
<td>1930</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">matchup.postOnThird.link</td>
<td>1930</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">reviewDetails.isOverturned</td>
<td>1965</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">reviewDetails.inProgress</td>
<td>1965</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">reviewDetails.reviewType</td>
<td>1965</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">reviewDetails.challengeTeamId</td>
<td>1965</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">base</td>
<td>1965</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">details.violation.type</td>
<td>1969</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">details.violation.description</td>
<td>1969</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" scope="row">details.violation.player.id</td>
<td>1969</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" scope="row">details.violation.player.fullName</td>
<td>1969</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Upon examination of the data, it seems insufficient for analyzing the hot hand phenomenon for this study. The preceding individual player data appears to be more appropriate for a comprehensive analysis of this topic, as it includes relevant metrics such as hard-hit percentage.</p>
</section>
<section id="extra-joke" class="level1">
<h1>Extra Joke</h1>
<p>What did the broom say to the vacuum?</p>
<p>“I’m so tired of people pushing us around.” <br><br> <img src="./images/broom-water-buckets.png" class="img-fluid" alt="Figure 1"></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>